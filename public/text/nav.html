<link rel="stylesheet" href="../styles/skeleton.css">

<nav class="navbar navbar-dark fixed-top">
  <div class="container" style="white-space: nowrap;">

    <a class="icon" id="hamburger-menu" onclick="openSideMenu()"><i class="material-icons md-48">menu</i></a>
    <div id="sidenav" class="sidenav">
      <a href="javascript::void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <a href="/">Home</a>
      <a href="/search">Search for Item</a>
      <a href="/add_item">Add New Item</a>
      <a href="/watchlist">View Watchlist</a>
      <a href="/logout">Logout</a>
      <a href="/privacy_policy">Privacy Policy</a>
    </div>

    <a class="icon nav-logo-link" href="/">
      <img id="logo" src="../images/foodbuddy-logo-textonly.png">
    </a>

    <a class="icon profile-icon" href="/profile"><i class="material-icons md-48 nav_elements icons"
        style="float: right;">account_circle</i>
    </a>

    <a href="/login" id="sign-in-link" style="text-align: end">Sign In</a>

  </div>
  <script>
    $.get('/isLoggedIn', (response) => {
      if (response) {
        $(".profile-icon").css("display", "block");
        $("#sign-in-link").css("display", "none");
      } else {
        $("#sign-in-link").css("display", "inline-block");
        $("#sign-in-link").css("text-align", "end");
        $(".profile-icon").css("display", "none");
      }
    })

    function openSideMenu() {
      let hamburgerIcon = document.getElementById("hamburger-menu");
      $("#hamburger-menu").css("transform", "rotate(90deg)");
      document.getElementById("hamburger-menu").classList.toggle("rotated");
      openNav();
    }

    /* Set the width of the side navigation to 250px and the left margin of the page content to 250px and add a black background color to body */
    function openNav() {
      $("#sidenav").css("width", "250px");
      $("#main").css("marginLeft", "250px");
      // document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
    }

    /* Set the width of the side navigation to 0 and the left margin of the page content to 0, and the background color of body to white */
    function closeNav() {
      $("#sidenav").css("width", "0");
      $("#main").css("marginLeft", "0");
      // document.body.style.backgroundColor = "white";
      $("#hamburger-menu").css("transform", "rotate(0)");
      document.getElementById("hamburger-menu").classList.remove("rotated");
    }

  </script>
</nav>
