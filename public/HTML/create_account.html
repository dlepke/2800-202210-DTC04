<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../styles/create_account_style.css">
    <link rel="stylesheet" href="../styles/easter_egg.css">

    <title>Create Account</title>
</head>

<body>
    <div id="wrapper">
        <main>
            <div id="logo">
                <img src="../images/foodbuddy-logo-icononly.png" id="logo_icon" alt="FoodBuddy logo">
                <p id="logo_text">FoodBuddy</p>
            </div>
            <p>Sign up for an account</p>
            <div id="signin_direct">
                <p>Already have account?</p>
                <a href="/">Sign in</a>
            </div>
            <form id="info_form" action="/create_account_in_db" method="post">
                <input type="text" placeholder="First name" id="first" name="firstName">
                <input type="text" placeholder="Last name" id="last" name="lastName">
                <input type="email" placeholder="Email" id="email" name="email">
                <input type="password" placeholder="Password" id="password" name="password">
                <input type="password" placeholder="Confirm password" id="confirm_password" name="confirmPassword">
                <p id="note">You password should be a minimum of 8 characters, at least 1 capital letter and 1 number.
                </p>
                <button id="signup_submit">Sign up</button>
            </form>

            <div id="account-already-exists-warning"
                style="background-color: pink; border: 1px solid red; border-radius: 5px; padding: 1%; margin: 1%;"
                hidden>Email already connected to an account.</div>
            <div id="passwords-dont-match-warning"
                style="background-color: pink; border: 1px solid red; border-radius: 5px; padding: 1%; margin: 1%;"
                hidden>Password confirmation does not match given password.</div>
            <div id="empty-fields-warning"
                style="background-color: pink; border: 1px solid red; border-radius: 5px; padding: 1%; margin: 1%;"
                hidden>Please fill out all fields.</div>
        </main>
    </div>

    <script>
        console.log("current location: ", document.location.href);

        let passwordMismatch = document.location.href.split("passwordMismatch=")[1];
        let userAlreadyExists = document.location.href.split("userAlreadyExists=")[1];
        let emptyFields = document.location.href.split("emptyFields=")[1];

        if (passwordMismatch === "true") {
            document.getElementById("passwords-dont-match-warning").hidden = false;
        } else if (userAlreadyExists === "true") {
            document.getElementById("account-already-exists-warning").hidden = false;
        } else if (emptyFields === "true") {
            document.getElementById("empty-fields-warning").hidden = false;
        }
    </script>
</body>

</html>